<div id=a></div>
<br><br>
<div id=b></div>
<style>
*{margin:0;padding:0;letter-spacing:-1;line-height:12px;font-family:courier;control-characters:visible}
table{border-spacing:0;border-collapse:collapse}
th{padding:2px}
td{padding:2px}
</style>
<script>
out = "<table border><tr><th style='min-width:600px'>Code";//<th>Opcodes 0-255 + interrupts 0-2";
ops = [
"BRK","ORA","STP","SLO","IGN","ORA","ASL","SLO","PHP","ORA","ASL","ANC","IGN","ORA","ASL","SLO","BPL","ORA","ASL","SLO","IGN","ORA","ASL","SLO","CLC","ORA","NOP","SLO","IGN","ORA","ASL","SLO","JSR","AND","STP","RLA","BIT","AND","ROL","RLA","PLP","AND","ROL","ANC","BIT","AND","ROL","RLA","BMI","AND","","RLA","IGN","AND","ROL","RLA","SEC","AND","NOP","RLA","IGN","AND","ROL","RLA","RTI","EOR","","SRE","IGN","EOR","LSR","SRE","PHA","EOR","LSR","ALR","JMP","EOR","LSR","SRE","BVC","EOR","","SRE","IGN","EOR","LSR","SRE","CLI","EOR","NOP","SRE","IGN","EOR","LSR","SRE","RTS","ADC","","RRA","IGN","ADC","ROR","RRA","PLA","ADC","ROR","ARR","JMP","ADC","ROR","RRA","BVS","ADC","","RRA","IGN","ADC","ROR","RRA","SEI","ADC","NOP","RRA","IGN","ADC","ROR","RRA","SKB","STA","SKB","SAX","STY","STA","STX","SAX","DEY","SKB","TXA","","STY","STA","STX","SAX","BCC","STA","STP","AHX","STY","STA","STX","SAX","TYA","STA","TXS","","","STA","","","LDY","LDA","LDX","LAX","LDY","LDA","LDX","LAX","TAY","LDA","TAX","","LDY","LDA","LDX","LAX","BCS","LDA","","LAX","LDY","LDA","LDX","LAX","CLV","LDA","TSX","LAS","LDY","LDA","LDX","LAX","CPY","CMP","SKB","DCP","CPY","CMP","DEC","DCP","INY","CMP","DEX","AXS","CPY","CMP","DEC","DCP","BNE","CMP","","DCP","IGN","CMP","DEC","DCP","CLD","CMP","NOP","DCP","IGN","CMP","DEC","DCP","CPX","SBC","SKB","ISC","CPX","SBC","INC","ISC","INX","SBC","NOP","","CPX","SBC","INC","ISC","BEQ","SBC","","ISC","IGN","SBC","INC","ISC","SED","SBC","NOP","ISC","IGN","SBC","INC","ISC",'NMI','RES','IRQ'];

pattern = " !*,-/02345689JXZ^_`abcdefghijklmnopqrstuvwxyz{|}";

values = [
  0,1,2,4,5,7,8,10,11,12,13,14,16,17,34,48,50,
  162,170,171,174,175,178,186,187,190,192,
  193,196,197,200,201,202,204,206,213,216,217,220,
  221,224,234,238,239,240,250,251,254,255
];
        
bits = [];

len = 0;
taskperops = [];
for(i=0;i<259;i++){
  out+="<th>"+ops[i].split('').join('<br>');
  taskperops[i] = [];
}
  
task = 0;
t = (a,code) => {
  bits[len] = [];
  bitstr = "";
  for(i = 0; i < 33; i++){
    bitstr += ("00000000"+values[pattern.indexOf(a[i])].toString(2)).slice(-8).split('').reverse().join('');
  }
  for(i = 0; i < 259; i++){
     taskperops[i][task] = bitstr[i];
  }
  bitstr = bitstr.split('').join('<td>').replace(/0/g,' ').replace(/1/g,'<b>⬤<b/>');
  len++;
  out += "<tr><td>"+code+"</pre><td>" + bitstr;
  task ++;
}

t("                                !", "addr = 0xFFFA// NMI vector location");
t("                                *", "addr = 0xFFFC// Reset vector location");
t("!                               ,", "addr = 0xFFFE// Interrupt vector location");
t("zy}z{y}zzy}zzy}zzy}zzy}zzy}zzy}z ", "addr = RB(PC++)");
t("2 yy2 yy2 yy2 yy2 XX2 XX2 yy2 yy ", "d = X// register index");
t("  62  62  62  62  om  om  62  62 ", "d = Y");
t("2 y 2 y 2 y 2 y 2 y 2 y 2 y 2 y  ", "addr=u8(addr+d); d=0; tick()// add zeropage-index");
t(" y z!y z y z y z y z y z y z y z ", "addr=u8(addr);   addr+=256*RB(PC++)// absolute address");
t("3 6 2 6 2 6 286 2 6 2 6 2 6 2 6 /", "addr=RB(c=addr); addr+=256*RB(wrap(c,c+1))// indirect w/ page wrap");
t("  *Z  *Z  *Z  *Z      6z  *Z  *Z ", "Misfire(addr, addr+d)// abs. load: extra misread when cross-page");
t("  4k  4k  4k  4k  6z      4k  4k ", "RB(wrap(addr, addr+d))// abs. store: always issue a misread");
t("aa__ff__ab__,4  ____ -  ____     ", "t &= A// Many operations take A or X as operand. Some try in");
t("                knnn     4  99   ", "t &= X// error to take both; the outcome is an AND operation.");
t("                9989    99       ", "t &= Y// sty,dey,iny,tya,cpy");
t("                       4         ", "t &= S// tsx, las");
t("!!!!  !!  !!  !!  !   !!  !!  !!/", "t &= P.raw|pbits; c = t// php, flag test/set/clear, interrupts");
t("_^__dc___^__            ed__98   ", "c = t; t = 0xFF// save as second operand");
t("vuwvzywvvuwvvuwv    zy|zzywvzywv ", "t &= RB(addr+d)// memory operand");
t(",2  ,2  ,2  ,2  -2  -2  -2  -2   ", "t &= RB(PC++)// immediate operand");
t("    88                           ", "P.V = t & 0x40; P.N = t & 0x80// bit");
t("    nink    nnnk                 ", "sb = P.C// rol,rla, ror,rra,arr");
t("nnnknnnk     0                   ", "P.C = t & 0x80// rol,rla, asl,slo,[arr,anc]");
t("        nnnknink                 ", "P.C = t & 0x01// lsr,sre, ror,rra,asr");
t("ninknink                         ", "t = (t << 1) | (sb * 0x01)");
t("        nnnknnnk                 ", "t = (t >> 1) | (sb * 0x80)");
t("                 !      kink     ", "t = u8(t - 1)// dec,dex,dey,dcp");
t("                         !  khnk ", "t = u8(t + 1)// inc,inx,iny,isb");
t("kgnkkgnkkgnkkgnkzy|J    kgnkkgnk ", "WB(addr+d, t)");
t("                   q             ", "WB(wrap(addr, addr+d), t &= ((addr+d) >> 8))// [shx,shy,shs,sha?]");
t("rpstljstqjstrjst - - - -kjstkjst/", "tick()// nop,flag ops,inc,dec,shifts,stack,transregister,interrupts");
t("     !  !    !                   ", "tick(); t = Pop()// pla,plp,rti");
t("        !   !                    ", "RB(PC++); PC = Pop(); PC |= (Pop() << 8)// rti,rts");
t("            !                    ", "RB(PC++)// rts");
t("!   !                           /", "d=PC+(op?-1:1); Push(d>>8); Push(d)// jsr, interrupts");
t("!   !    8   8                  /", "PC = addr// jmp, jsr, interrupts");
t("!!       !                      /", "Push(t)// pha, php, interrupts");
t("! !!  !!  !!  !!  !   !!  !!  !!/", "t = 1");
t("  !   !                   !!  !! ", "t <<= 1");
t("! !   !   !!  !!       !   !   !/", "t <<= 2");
t("  !   !   !   !        !         ", "t <<= 4");
t("   !       !           !   !____ ", "t = u8(~t)// sbc, isb,      clear flag");
t("`^__   !       !               !/", "t = c | t// ora, slo,      set flag");
t("  !!dc`_  !!  !   !   !!  !!  !  ", "t = c & t// and, bit, rla, clear/test flag");
t("        _^__                     ", "t = c ^ t// eor, sre");
t("      !       !       !       !  ", "if(t)  { tick(); Misfire(PC, addr = s8(addr) + PC); PC=addr; }");
t("  !       !       !       !      ", "if(!t) { tick(); Misfire(PC, addr = s8(addr) + PC); PC=addr; }");
t("            _^__            ____ ", "c = t; t += A + P.C; P.V = (c^t) & (A^t) & 0x80; P.C = t & 0x100");
t("                        ed__98   ", "t = c - t; P.C = ~t & 0x100// cmp,cpx,cpy, dcp, sbx");
t("aa__aa__aa__ab__ 4 !____    ____ ", "A = t");
t("                    nnnn 4   !   ", "X = t// ldx, dex, tax, inx, tsx,lax,las,sbx");
t("                 !  9988 !       ", "Y = t// ldy, dey, tay, iny");
t("                   4   0         ", "S = t// txs, las, shs");
t("!  ! ! !!  !   !       !   !   !/", "P.raw = t & ~0x30// plp, rti, flag set/clear");
t("wwwvwwwvwwwvwxwv 5 !}}||{}wv{{wv ", "P.N = t & 0x80");
t("wwwv||wvwwwvwxwv 5 !}}||{}wv{{wv ", "P.Z = u8(t) == 0");
t("             0                   ", "P.V = (((t >> 5)+1)&2)// [arr]");

a.innerHTML = out;

bytes = {};

out = "<table border><tr><th>Opcode<th colspan=56>Tasks<th>8 ASCII chars<th>7 Bytes<th>3 Unicode chars";
for(i = 0; i < 259; i++){
  out += "<tr><td>" + ("000" + i.toString(16)).slice(-3).replace(/^0/,'&nbsp;') + " " + ops[i] + "<td>" + taskperops[i].join('<td>').replace(/0/g,' ').replace(/1/g,'<b>⬤<b/>') + "<th>";
  
  arr = [];
  for(j = 0; j < 8; j++){
    encode = "";
    for(k = 0; k < 7; k++){
      encode += taskperops[i][j*8+k] || 0;
    }
    encode = parseInt(encode, 2);
    encode = (127-encode) < 32 ? ("\\x" + (127-encode).toString(16) + " ") : String.fromCodePoint(127-encode);
    out += encode;
  }
  
  out+= "<th>";
  for(j = 0; j < 7; j++){
    encode = "";
    
    for(k = 0; k < 8; k++){
      encode += taskperops[i][j*7+k] || 0;
    }
    encode = parseInt(encode, 2);
    bytes[encode] = 1;
    arr.push(("00"+encode.toString(16)).slice(-2));
    
  }
  out+= arr.join(' ') + "<th>";
  
  for(j = 0; j < 3; j++){
    encode = "";
    for(k = 0; k < 19; k++){
      encode += taskperops[i][j*19+k] || 0;
    }
    encode = parseInt("1"+encode, 2);
    encode = String.fromCodePoint(encode);
    out += encode;
  }
}
b.innerHTML = out;

</script>